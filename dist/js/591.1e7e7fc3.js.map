{"version":3,"file":"js/591.1e7e7fc3.js","mappings":"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","sources":["webpack://travelholic/./src/views/front/OrderInfo.vue","webpack://travelholic/./src/views/front/OrderInfo.vue?74d2"],"sourcesContent":["<template>\n  <Loading :active=\"isLoading\" style=\"z-index: 9999\"></Loading>\n  <div class=\"container\">\n    <div>\n      <h3 class=\"m-3\">訂購人資訊</h3>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-md-8\">\n        <VForm class=\"col-md-10\" v-slot=\"{ errors }\" @submit=\"createOrder\">\n          <div class=\"mb-3\">\n            <label for=\"name\" class=\"form-label\"><span class=\"text-danger\">*</span>訂購人姓名</label>\n            <Field\n            id=\"name\"\n            name=\"訂購人姓名\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['訂購人姓名'] }\"\n            placeholder=\"請輸入姓名\"\n            rules=\"required\"\n            v-model=\"form.user.name\"\n            ></Field>\n            <ErrorMessage name=\"訂購人姓名\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"email\" class=\"form-label\"><span class=\"text-danger\">*</span>Email</label>\n            <Field\n            id=\"email\"\n            name=\"Email\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['Email'] }\"\n            placeholder=\"請輸入Email\"\n            rules=\"required|email\"\n            v-model=\"form.user.email\"\n            ></Field>\n            <ErrorMessage name=\"Email\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"tel\" class=\"form-label\"><span class=\"text-danger\">*</span>聯絡電話</label>\n            <Field\n            id=\"tel\"\n            name=\"聯絡電話\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['聯絡電話'] }\"\n            placeholder=\"請輸入手機號碼\"\n            rules=\"required\"\n            v-model=\"form.user.tel\"\n            ></Field>\n            <ErrorMessage name=\"聯絡電話\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"address\" class=\"form-label\"><span class=\"text-danger\">*</span>地址</label>\n            <Field\n            id=\"address\"\n            name=\"地址\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['地址'] }\"\n            placeholder=\"請輸入地址\"\n            rules=\"required\"\n            v-model=\"form.user.address\"\n            ></Field>\n            <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"message\" class=\"form-label\">訂單備註</label>\n            <textarea\n            id=\"message\"\n            class=\"form-control\"\n            cols=\"30\"\n            rows=\"10\"\n            v-model=\"form.message\"\n            ></textarea>\n          </div>\n          <div class=\"text-end mb-3\">\n            <button class=\"btn orange-btn\">送出訂單</button>\n          </div>\n        </VForm>\n      </div>\n      <div class=\"col-md-4\">\n        <div class=\"order-item\">\n          <div class=\"mb-3 fs-5\">訂購內容</div>\n          <table class=\"table\">\n            <tr v-for=\"item in cart.carts\" :key=\"item.id\" class=\"lh-lg\">\n              <td class=\"col-7\">{{ item.product.title }}</td>\n              <td class=\"col-2\">{{ item.qty }}</td>\n              <td class=\"col-3\">$ {{ $filters.currency(item.product.price) }}</td>\n            </tr>\n          </table>\n          <div class=\"text-end\">\n            訂單總金額： $ {{ $filters.currency(cart.final_total) }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      cart: {},\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: ''\n        },\n        message: ''\n      }\n    }\n  },\n  methods: {\n    getCart () {\n      this.isLoading = true\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n\n      this.$http.get(api).then((res) => {\n        this.isLoading = false\n        console.log(res.data)\n\n        this.cart = res.data.data\n      })\n    },\n    createOrder () {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\n      const orderData = this.form\n\n      this.$http.post(api, { data: orderData }).then((res) => {\n        console.log(res.data)\n\n        this.$router.push(`/checkout/${res.data.orderId}`)\n      })\n    }\n  },\n  created () {\n    this.getCart()\n  }\n}\n</script>\n","import { render } from \"./OrderInfo.vue?vue&type=template&id=4d0311be\"\nimport script from \"./OrderInfo.vue?vue&type=script&lang=js\"\nexport * from \"./OrderInfo.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_createVNode","_component_Loading","active","_ctx","isLoading","style","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_component_VForm","onSubmit","$options","createOrder","errors","_hoisted_5","_hoisted_6","_component_Field","id","name","_normalizeClass","placeholder","rules","$data","form","user","$event","_component_ErrorMessage","_hoisted_7","_hoisted_8","email","_hoisted_9","_hoisted_10","tel","_hoisted_11","_hoisted_12","address","_hoisted_13","_hoisted_14","cols","rows","message","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_createElementBlock","_Fragment","_renderList","cart","carts","item","key","_hoisted_20","_toDisplayString","product","title","_hoisted_21","qty","_hoisted_22","$filters","currency","price","_hoisted_23","final_total","data","methods","getCart","this","api","$http","get","then","res","console","log","orderData","post","$router","push","orderId","created","__exports__","render"],"sourceRoot":""}