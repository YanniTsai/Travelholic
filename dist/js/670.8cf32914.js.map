{"version":3,"file":"js/670.8cf32914.js","mappings":"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","sources":["webpack://travelholic/./src/views/front/OrderInfo.vue","webpack://travelholic/./src/views/front/OrderInfo.vue?74d2"],"sourcesContent":["<template>\n  <Loading :active=\"isLoading\" style=\"z-index: 9999\"></Loading>\n  <div class=\"banner mb-5\">\n      <img src=\"@/assets/images/orderInfo-banner.jpeg\" alt=\"訂購人資訊\">\n      <div class=\"banner-title p-3\"><h5 class=\"m-2\">確認訂單</h5></div>\n    </div>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-md-8\">\n        <div class=\"mb-3 info-title\"><i class=\"bi bi-person\"></i> 訂購人資訊</div>\n        <VForm class=\"col-md-10 my-3\" v-slot=\"{ errors }\" @submit=\"createOrder\">\n          <div class=\"mb-3\">\n            <label for=\"name\" class=\"form-label\"><span class=\"text-danger\">*</span>訂購人姓名</label>\n            <Field\n            id=\"name\"\n            name=\"訂購人姓名\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['訂購人姓名'] }\"\n            placeholder=\"請輸入姓名\"\n            rules=\"required\"\n            v-model=\"form.user.name\"\n            ></Field>\n            <ErrorMessage name=\"訂購人姓名\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"email\" class=\"form-label\"><span class=\"text-danger\">*</span>Email</label>\n            <Field\n            id=\"email\"\n            name=\"Email\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['Email'] }\"\n            placeholder=\"請輸入Email\"\n            rules=\"required|email\"\n            v-model=\"form.user.email\"\n            ></Field>\n            <ErrorMessage name=\"Email\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"tel\" class=\"form-label\"><span class=\"text-danger\">*</span>聯絡電話</label>\n            <Field\n            id=\"tel\"\n            name=\"聯絡電話\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['聯絡電話'] }\"\n            placeholder=\"請輸入手機號碼\"\n            rules=\"required\"\n            v-model=\"form.user.tel\"\n            ></Field>\n            <ErrorMessage name=\"聯絡電話\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"address\" class=\"form-label\"><span class=\"text-danger\">*</span>地址</label>\n            <Field\n            id=\"address\"\n            name=\"地址\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['地址'] }\"\n            placeholder=\"請輸入地址\"\n            rules=\"required\"\n            v-model=\"form.user.address\"\n            ></Field>\n            <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"message\" class=\"form-label\">訂單備註</label>\n            <textarea\n            id=\"message\"\n            class=\"form-control\"\n            cols=\"20\"\n            rows=\"10\"\n            v-model=\"form.message\"\n            ></textarea>\n          </div>\n          <div class=\"text-end\">\n            <button class=\"btn orange-btn\">送出訂單</button>\n          </div>\n        </VForm>\n      </div>\n      <div class=\"col-md-4\">\n        <div class=\"mb-3 info-title\"><i class=\"bi bi-bag-check\"></i> 訂購內容</div>\n        <table class=\"table my-3\">\n          <tr>\n            <th class=\"col-7\">商品名稱</th>\n            <th class=\"col-2 text-center\">數量</th>\n            <th class=\"col-3 text-end\">金額</th>\n          </tr>\n          <tr v-for=\"item in cart.carts\" :key=\"item.id\" class=\"lh-lg\">\n            <td>{{ item.product.title }}</td>\n            <td class=\"text-center\">{{ item.qty }}</td>\n            <td class=\"text-end\">$ {{ $filters.currency(item.product.price) }}</td>\n          </tr>\n        </table>\n        <div class=\"mb-3\" v-if=\"coupon_code\">\n          <div class=\"text-success\">已使用優惠碼： {{ coupon_code }} （整單{{ coupon_percent / 10 }}折）</div>\n        </div>\n        <div class=\"text-end mb-3\">\n          <div :class=\"{'origin-price': coupon_code}\">訂單總金額： $ {{ $filters.currency(cart.total) }}</div>\n          <div class=\"orange-price\" v-if=\"coupon_code\">訂單總金額： $ {{ $filters.currency(cart.final_total) }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      cart: {},\n      coupon_code: '',\n      coupon_percent: 0,\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: ''\n        },\n        message: ''\n      }\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    getCart () {\n      this.isLoading = true\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n\n      this.$http.get(api).then((res) => {\n        this.isLoading = false\n        console.log(res.data)\n\n        this.cart = res.data.data\n\n        if (res.data.data.carts[0].coupon) {\n          this.coupon_code = res.data.data.carts[0].coupon.code\n          this.coupon_percent = res.data.data.carts[0].coupon.percent\n        }\n      })\n    },\n    createOrder () {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\n      const orderData = this.form\n\n      this.$http.post(api, { data: orderData }).then((res) => {\n        console.log(res.data)\n\n        this.$router.push(`/checkout/${res.data.orderId}`)\n        this.emitter.emit('get-cart')\n      })\n    }\n  },\n  created () {\n    this.getCart()\n  }\n}\n</script>\n","import { render } from \"./OrderInfo.vue?vue&type=template&id=027a79ee\"\nimport script from \"./OrderInfo.vue?vue&type=script&lang=js\"\nexport * from \"./OrderInfo.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","src","_imports_0","alt","for","_createVNode","_component_Loading","active","_ctx","isLoading","style","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_component_VForm","onSubmit","$options","createOrder","errors","_hoisted_6","_hoisted_7","_component_Field","id","name","_normalizeClass","placeholder","rules","$data","form","user","$event","_component_ErrorMessage","_hoisted_8","_hoisted_9","email","_hoisted_10","_hoisted_11","tel","_hoisted_12","_hoisted_13","address","_hoisted_14","_hoisted_15","cols","rows","message","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_createElementBlock","_Fragment","_renderList","cart","carts","item","key","_toDisplayString","product","title","_hoisted_21","qty","_hoisted_22","$filters","currency","price","coupon_code","_hoisted_23","_hoisted_24","coupon_percent","_hoisted_25","total","_hoisted_26","final_total","data","inject","methods","getCart","this","api","$http","get","then","res","console","log","coupon","code","percent","orderData","post","$router","push","orderId","emitter","emit","created","__exports__","render"],"sourceRoot":""}