(self["webpackChunktravelholic"]=self["webpackChunktravelholic"]||[]).push([[499],{8803:function(t,e,s){
/*!
  * Bootstrap toast.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(e,a){t.exports=a(s(1884),s(4130),s(9069),s(1437))})(0,(function(t,e,s,a){"use strict";const i="toast",n="bs.toast",o=`.${n}`,r=`mouseover${o}`,l=`mouseout${o}`,c=`focusin${o}`,d=`focusout${o}`,u=`hide${o}`,h=`hidden${o}`,f=`show${o}`,m=`shown${o}`,g="fade",v="hide",_="show",p="showing",b={animation:"boolean",autohide:"boolean",delay:"number"},w={animation:!0,autohide:!0,delay:5e3};class y extends t{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return w}static get DefaultType(){return b}static get NAME(){return i}show(){const t=e.trigger(this._element,f);if(t.defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(g);const s=()=>{this._element.classList.remove(p),e.trigger(this._element,m),this._maybeScheduleHide()};this._element.classList.remove(v),a.reflow(this._element),this._element.classList.add(_,p),this._queueCallback(s,this._element,this._config.animation)}hide(){if(!this.isShown())return;const t=e.trigger(this._element,u);if(t.defaultPrevented)return;const s=()=>{this._element.classList.add(v),this._element.classList.remove(p,_),e.trigger(this._element,h)};this._element.classList.add(p),this._queueCallback(s,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(_),super.dispose()}isShown(){return this._element.classList.contains(_)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e;break}if(e)return void this._clearTimeout();const s=t.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){e.on(this._element,r,(t=>this._onInteraction(t,!0))),e.on(this._element,l,(t=>this._onInteraction(t,!1))),e.on(this._element,c,(t=>this._onInteraction(t,!0))),e.on(this._element,d,(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=y.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}return s.enableDismissTrigger(y),a.defineJQueryPlugin(y),y}))},7305:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return _t}});var a=s(3396);const i={class:"d-flex flex-column",style:{"min-height":"100vh"}};function n(t,e,s,n,o,r){const l=(0,a.up)("Navbar"),c=(0,a.up)("router-view"),d=(0,a.up)("Footer"),u=(0,a.up)("Toast");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(l),(0,a.Wm)(c),(0,a.Wm)(d,{class:"mt-auto"}),(0,a.Wm)(u)])}var o=s(7139),r=s(9242),l=s.p+"img/logo.f6a43114.png";const c={class:"container-fluid"},d=(0,a._)("a",{class:"navbar-brand",href:"#"},[(0,a._)("img",{src:l,width:"150",alt:"travelholic"})],-1),u=(0,a._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,a._)("span",{class:"navbar-toggler-icon"})],-1),h={class:"collapse navbar-collapse justify-content-end",id:"navbarSupportedContent"},f={class:"navbar-nav"},m=(0,a._)("a",{class:"nav-link",href:"#","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight"},"我的最愛",-1),g={class:"dropdown"},v={class:"dropdown-toggle nav-link dropdown-title",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-offset":"-100,0"},_={key:0,class:"cart-num"},p={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},b={key:0,class:"d-flex flex-column justify-content-center align-items-center m-4"},w=(0,a._)("span",{class:"mb-2"},"購物車目前沒有商品！",-1),y=[w],x={key:1},k={class:"row border-bottom pb-2 m-2"},L=["src"],T={class:"col-6"},$={class:"fw-bold"},C={class:"orange-price"},D={class:"d-flex justify-content-between m-2 cart-menu-bottom"},S={class:"d-flex align-items-center"},I=(0,a._)("span",null,"總計：",-1),z={class:"price"},W={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},j=(0,a._)("div",{class:"offcanvas-header"},[(0,a._)("h5",{class:"offcanvas-title",id:"offcanvasRightLabel"},"我的最愛"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),U={class:"offcanvas-body"},H={key:0,class:"d-flex flex-column justify-content-center align-items-center"},M=(0,a._)("div",{class:"mb-3"},"目前沒有儲存行程！",-1),P={class:"btn yellow-btn"},F={class:"row"},K=["src"],N={class:"col-6 d-flex flex-column justify-content-start"},R={class:"fw-bold"},q={class:"fav-description"};function E(t,e,s,i,n,l){const w=(0,a.up)("Loading"),E=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(w,{active:n.isLoading,style:{"z-index":"9999"}},null,8,["active"]),(0,a._)("nav",{class:(0,o.C_)(["navbar navbar-expand-lg front-navbar",{"navbar-yellow":n.isScrolled}])},[(0,a._)("div",c,[d,u,(0,a._)("div",h,[(0,a._)("ul",f,[(0,a.Wm)(E,{to:"/products",class:"nav-link"},{default:(0,a.w5)((()=>[(0,a.Uk)("探索行程")])),_:1}),(0,a.Wm)(E,{to:"/orderhistory",class:"nav-link"},{default:(0,a.w5)((()=>[(0,a.Uk)("歷史訂單")])),_:1}),m,(0,a._)("div",g,[(0,a._)("a",v,[(0,a.Uk)(" 購物車 "),n.cartlength?((0,a.wg)(),(0,a.iD)("div",_,(0,o.zw)(n.cartlength),1)):(0,a.kq)("",!0)]),(0,a._)("div",p,[0===n.cartlength?((0,a.wg)(),(0,a.iD)("div",b,y)):((0,a.wg)(),(0,a.iD)("div",x,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.cart.carts,((e,s)=>((0,a.wg)(),(0,a.iD)("ul",{class:"list-unstyled",key:s},[(0,a.Wm)(E,{to:`/products/${e.product.id}`,class:"text-muted text-decoration-none"},{default:(0,a.w5)((()=>[(0,a._)("li",k,[(0,a._)("img",{src:e.product.imageUrl,alt:"商品圖片",class:"col-6"},null,8,L),(0,a._)("table",T,[(0,a._)("tr",$,(0,o.zw)(e.product.title),1),(0,a._)("tr",null,(0,o.zw)(e.qty)+" "+(0,o.zw)(e.product.unit),1),(0,a._)("tr",C,(0,o.zw)(t.$filters.currency(e.total))+" 元",1)])])])),_:2},1032,["to"])])))),128)),(0,a._)("div",D,[(0,a._)("div",S,[I,(0,a._)("span",z,(0,o.zw)(t.$filters.currency(n.cart.total))+" 元",1)]),(0,a._)("button",{class:"btn yellow-btn",onClick:e[0]||(e[0]=(0,r.iM)(((...t)=>l.goToCart&&l.goToCart(...t)),["prevent"]))},"查看購物車")])]))])])])])])],2),(0,a._)("div",W,[j,(0,a._)("div",U,[0===n.favList.length?((0,a.wg)(),(0,a.iD)("div",H,[M,(0,a._)("button",P,[(0,a.Wm)(E,{to:"/products",class:"text-decoration-none text-dark"},{default:(0,a.w5)((()=>[(0,a.Uk)("探索行程")])),_:1})])])):((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(n.favList,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"fav-item border-bottom p-3",key:t.id},[(0,a.Wm)(E,{to:`/products/${t.id}`,class:"text-muted text-decoration-none"},{default:(0,a.w5)((()=>[(0,a._)("div",F,[(0,a._)("img",{src:t.imageUrl,alt:"商品圖片",class:"col-6"},null,8,K),(0,a._)("table",N,[(0,a._)("tr",R,(0,o.zw)(t.title),1),(0,a._)("tr",q,(0,o.zw)(t.description),1)])])])),_:2},1032,["to"])])))),128))])])],64)}s(7658);var O={data(){return{products:[],favList:[],cart:{},cartlength:0,isLoading:!1,isScrolled:!1}},inject:["emitter"],methods:{getProducts(){return new Promise(((t,e)=>{this.isLoading=!0;const s="https://vue3-course-api.hexschool.io/api/yanni-hexschool-api/products/all";this.$http.get(s).then((s=>{if(this.isLoading=!1,s.data.success)this.products=s.data.products,t();else{const t=new Error("取得產品失敗");e(t)}}))}))},getFav(){const t=JSON.parse(localStorage.getItem("favoriteItem"))||[];this.favList=this.products.filter((e=>t.indexOf(e.id)>-1))},getCart(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/yanni-hexschool-api/cart";this.$http.get(t).then((t=>{this.isLoading=!1,console.log(t.data),this.cart=t.data.data,this.cartlength=this.cart.carts.length}))},goToCart(){this.$router.push("/cart")},detectScrolled(){window.addEventListener("scroll",(()=>{window.scrollY>=58.2?this.isScrolled=!0:this.isScrolled=!1}))}},mounted(){this.getCart(),this.getProducts().then((()=>{this.getFav()})),this.detectScrolled(),this.emitter.on("get-favlist",(()=>{this.getFav()})),this.emitter.on("get-cart",(()=>{this.getCart()}))}},Y=s(89);const Z=(0,Y.Z)(O,[["render",E]]);var J=Z;const Q={class:"container-fluid bg-dark text-light footer d-flex justify-content-center align-items-center"},A=(0,a._)("i",{class:"bi bi-c-circle"},null,-1);function B(t,e){return(0,a.wg)(),(0,a.iD)("div",Q,[A,(0,a.Uk)("  2023 | 僅作為練習使用，無任何商業用途。 ")])}const G={},V=(0,Y.Z)(G,[["render",B]]);var X=V;function tt(t){return{all:t=t||new Map,on:function(e,s){var a=t.get(e);a?a.push(s):t.set(e,[s])},off:function(e,s){var a=t.get(e);a&&(s?a.splice(a.indexOf(s)>>>0,1):t.set(e,[]))},emit:function(e,s){var a=t.get(e);a&&a.slice().map((function(t){t(s)})),(a=t.get("*"))&&a.slice().map((function(t){t(e,s)}))}}}const et=tt();var st=et;const at={class:"toast-container w-100 h-100"},it={id:"liveToast",class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true",ref:"toast"},nt={class:"toast-body h-100 d-flex align-items-center"},ot={class:"d-flex align-items-center"},rt=(0,a._)("i",{class:"bi bi-check-circle fs-4"},null,-1),lt={class:"fs-6 ms-2"};function ct(t,e,s,i,n,r){return(0,a.wg)(),(0,a.iD)("div",at,[(0,a._)("div",it,[(0,a._)("div",nt,[(0,a._)("div",ot,[rt,(0,a._)("div",lt,[(0,a._)("strong",null,(0,o.zw)(n.message.title),1),(0,a.Uk)(" "+(0,o.zw)(n.message.content),1)])])])],512)])}var dt=s(8803),ut=s.n(dt),ht={data(){return{toast:{},message:{title:"",content:""}}},inject:["emitter"],methods:{showToast(t){this.message=t,this.toast.show()}},mounted(){this.toast=new(ut())(this.$refs.toast,{delay:3e3}),this.emitter.on("notification",(t=>{this.showToast(t)}))}};const ft=(0,Y.Z)(ht,[["render",ct]]);var mt=ft,gt={components:{Navbar:J,Footer:X,Toast:mt},provide(){return{emitter:st}}};const vt=(0,Y.Z)(gt,[["render",n]]);var _t=vt}}]);
//# sourceMappingURL=499.e4a24cce.js.map