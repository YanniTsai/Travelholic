"use strict";(self["webpackChunktravelholic"]=self["webpackChunktravelholic"]||[]).push([[752],{8941:function(t,e,i){i.r(e),i.d(e,{default:function(){return ht}});var a=i(3396),l=i(7139),r=i(9242),s=i.p+"img/product-banner.c5a44e8d.jpeg";const o=(0,a._)("div",{class:"banner mb-5"},[(0,a._)("img",{src:s,alt:"探索行程"}),(0,a._)("div",{class:"banner-title p-3"},[(0,a._)("h5",{class:"m-2"},"探索行程")])],-1),n={class:"container"},c={class:"row mt-3"},d={class:"col-md-3"},u={class:"list-group"},p={class:"col-md-9"},h={class:"row justify-content-center justify-content-sm-start mb-3"},f={class:"card-img"},g=["src","alt"],m={class:"explore-more d-flex justify-content-evenly align-items-center"},_=["onClick"],v=["onClick"],b={class:"card-body m-1 d-flex flex-column justify-content-between"},C={class:"d-flex justify-content-between"},k={class:"card-title"},y=["onClick"],w={key:0,class:"bi bi-heart-fill card-like text-danger"},M={key:1,class:"bi bi-heart card-like"},P={class:"card-text"},x={class:"d-flex justify-content-between align-items-center"},$={class:"origin-price"},D={class:"orange-price-lg"},T={"aria-label":"Page-navigation"},j={class:"pagination justify-content-center front-pagination"},z=(0,a._)("span",{"aria-hidden":"true"},"«",-1),I=[z],L=(0,a._)("span",{"aria-hidden":"true"},"‹",-1),A=[L],O=["onClick"],q=(0,a._)("span",{"aria-hidden":"true"},"›",-1),S=[q],F=(0,a._)("span",{"aria-hidden":"true"},"»",-1),H=[F];function N(t,e,i,s,z,L){const q=(0,a.up)("Loading"),F=(0,a.up)("AddToCartModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(q,{active:z.isLoading,style:{"z-index":"9999"}},null,8,["active"]),o,(0,a._)("div",n,[(0,a._)("div",c,[(0,a._)("div",d,[(0,a._)("ul",u,[(0,a._)("a",{href:"#",class:(0,l.C_)(["list-group-item",{active:""===z.filter}]),onClick:e[0]||(e[0]=(0,r.iM)((t=>z.filter=""),["prevent"]))},"全部行程",2),(0,a._)("a",{href:"#",class:(0,l.C_)(["list-group-item",{active:"亞洲"===z.filter}]),onClick:e[1]||(e[1]=(0,r.iM)((t=>z.filter="亞洲"),["prevent"]))},"亞洲",2),(0,a._)("a",{href:"#",class:(0,l.C_)(["list-group-item",{active:"歐洲"===z.filter}]),onClick:e[2]||(e[2]=(0,r.iM)((t=>z.filter="歐洲"),["prevent"]))},"歐洲",2),(0,a._)("a",{href:"#",class:(0,l.C_)(["list-group-item",{active:"非洲"===z.filter}]),onClick:e[3]||(e[3]=(0,r.iM)((t=>z.filter="非洲"),["prevent"]))},"非洲",2),(0,a._)("a",{href:"#",class:(0,l.C_)(["list-group-item",{active:"北美洲"===z.filter}]),onClick:e[4]||(e[4]=(0,r.iM)((t=>z.filter="北美洲"),["prevent"]))},"北美洲",2),(0,a._)("a",{href:"#",class:(0,l.C_)(["list-group-item",{active:"南美洲"===z.filter}]),onClick:e[5]||(e[5]=(0,r.iM)((t=>z.filter="南美洲"),["prevent"]))},"南美洲",2),(0,a._)("a",{href:"#",class:(0,l.C_)(["list-group-item",{active:"大洋洲"===z.filter}]),onClick:e[6]||(e[6]=(0,r.iM)((t=>z.filter="大洋洲"),["prevent"]))},"大洋洲",2)])]),(0,a._)("div",p,[(0,a._)("div",h,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(L.filterData[z.currentPage],((e,i)=>((0,a.wg)(),(0,a.iD)("div",{class:"card col-12 col-md-3 m-2 p-0",key:i},[(0,a._)("div",f,[(0,a._)("img",{src:e.imageUrl,alt:e.title},null,8,g),(0,a._)("div",m,[(0,a._)("button",{class:"btn btn-outline-light",onClick:(0,r.iM)((t=>L.toProductInfo(e.id)),["prevent"])},"查看更多",8,_),(0,a._)("button",{class:"btn btn-outline-light",onClick:(0,r.iM)((t=>L.openAddToCartModal(e)),["prevent"])},"加入購物車",8,v)])]),(0,a._)("div",b,[(0,a._)("div",null,[(0,a._)("div",C,[(0,a._)("h5",k,(0,l.zw)(e.title),1),(0,a._)("a",{href:"#",class:"text-dark",onClick:(0,r.iM)((t=>L.addToFav(e)),["prevent"])},[z.favorited.indexOf(e.id)>-1?((0,a.wg)(),(0,a.iD)("i",w)):((0,a.wg)(),(0,a.iD)("i",M))],8,y)]),(0,a._)("p",P,(0,l.zw)(e.description),1)]),(0,a._)("div",x,[(0,a._)("span",$,"$ "+(0,l.zw)(t.$filters.currency(e.origin_price)),1),(0,a._)("span",D,"$ "+(0,l.zw)(t.$filters.currency(e.price)),1)])])])))),128))]),(0,a._)("nav",T,[(0,a._)("ul",j,[(0,a._)("li",{class:(0,l.C_)(["page-item",{disabled:0===z.currentPage}])},[(0,a._)("a",{class:"page-link",href:"#","aria-label":"First",onClick:e[7]||(e[7]=(0,r.iM)((t=>z.currentPage=0),["prevent"]))},I)],2),(0,a._)("li",{class:(0,l.C_)(["page-item",{disabled:0===z.currentPage}])},[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[8]||(e[8]=(0,r.iM)((t=>z.currentPage--),["prevent"]))},A)],2),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(L.filterData.length,(t=>((0,a.wg)(),(0,a.iD)("li",{class:"page-item",key:t},[(0,a._)("a",{class:(0,l.C_)(["page-link",{active:z.currentPage===t-1}]),href:"#",onClick:(0,r.iM)((e=>z.currentPage=t-1),["prevent"])},(0,l.zw)(t),11,O)])))),128)),(0,a._)("li",{class:(0,l.C_)(["page-item",{disabled:z.currentPage===L.filterData.length-1}])},[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[9]||(e[9]=(0,r.iM)((t=>z.currentPage++),["prevent"]))},S)],2),(0,a._)("li",{class:(0,l.C_)(["page-item",{disabled:z.currentPage===L.filterData.length-1}])},[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Last",onClick:e[10]||(e[10]=(0,r.iM)((t=>z.currentPage=L.filterData.length-1),["prevent"]))},H)],2)])])])])]),(0,a.Wm)(F,{ref:"addToCartModal",product:z.tempProduct,onAddToCart:L.addToCart},null,8,["product","onAddToCart"])],64)}i(7658);const U={class:"modal",tabindex:"-1",ref:"modal"},Y={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},J={class:"modal-content"},K={class:"modal-header"},W={class:"modal-title"},Z=(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),E={class:"modal-body"},V=["src","alt"],B={class:"modal-footer d-flex flex-column align-items-stretch"},G={class:"origin-price"},Q={class:"orange-price-lg"},R=(0,a._)("label",{for:"num"},"選擇人數",-1),X=(0,a._)("option",{value:"1",selected:""},"1",-1),tt=(0,a._)("option",{value:"3"},"2",-1),et=(0,a._)("option",{value:"3"},"3",-1),it=(0,a._)("option",{value:"3"},"4",-1),at=[X,tt,et,it];function lt(t,e,i,s,o,n){return(0,a.wg)(),(0,a.iD)("div",U,[(0,a._)("div",Y,[(0,a._)("div",J,[(0,a._)("div",K,[(0,a._)("h5",W,(0,l.zw)(i.product.title),1),Z]),(0,a._)("div",E,[(0,a._)("img",{src:i.product.imageUrl,alt:i.product.title,class:"w-100 mb-3"},null,8,V),(0,a._)("div",null,(0,l.zw)(i.product.content),1)]),(0,a._)("div",B,[(0,a._)("div",null,[(0,a._)("div",G,"原價：$ "+(0,l.zw)(t.$filters.currency(i.product.origin_price)),1),(0,a._)("div",Q,"優惠價：$ "+(0,l.zw)(t.$filters.currency(i.product.price)),1)]),(0,a._)("div",null,[R,(0,a.wy)((0,a._)("select",{id:"num",class:"form-select","onUpdate:modelValue":e[0]||(e[0]=t=>o.qty=t)},at,512),[[r.bM,o.qty]])]),(0,a._)("button",{type:"button",class:"btn orange-btn",onClick:e[1]||(e[1]=(0,r.iM)((e=>t.$emit("add-to-cart",o.qty)),["prevent"]))},"加入購物車")])])])],512)}var rt=i(7972),st=i.n(rt),ot={props:{product:{type:Object}},data(){return{modal:{},qty:1}},methods:{showModal(){this.modal.show()},hideModal(){this.modal.hide()}},mounted(){this.modal=new(st())(this.$refs.modal)}},nt=i(89);const ct=(0,nt.Z)(ot,[["render",lt]]);var dt=ct,ut={data(){return{products:[],tempProduct:{},filter:"",currentPage:0,favorited:JSON.parse(localStorage.getItem("favoriteItem"))||[],isLoading:!1}},components:{AddToCartModal:dt},inject:["emitter"],methods:{getProducts(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/yanni-hexschool-api/products/all";this.$http.get(t).then((t=>{this.isLoading=!1,this.products=t.data.products}))},toProductInfo(t){this.$router.push(`/products/${t}`)},openAddToCartModal(t){this.tempProduct=t,this.$refs.addToCartModal.showModal()},addToCart(t){this.isLoading=!0;const e={product_id:this.tempProduct.id,qty:parseInt(t)},i="https://vue3-course-api.hexschool.io/api/yanni-hexschool-api/cart";this.$http.post(i,{data:e}).then((t=>{this.isLoading=!1,console.log(t.data),this.emitter.emit("get-cart"),this.$refs.addToCartModal.hideModal(),this.emitter.emit("notification",{title:this.tempProduct.title,content:"已加入購物車"})}))},addToFav(t){const e=this.favorited.indexOf(t.id);this.favorited.indexOf(t.id)<0?(this.favorited.push(t.id),this.emitter.emit("notification",{title:t.title,content:"已加入我的最愛"})):(this.favorited.splice(e,1),this.emitter.emit("notification",{title:t.title,content:"已從我的最愛移除"})),localStorage.setItem("favoriteItem",JSON.stringify(this.favorited)),this.emitter.emit("get-favlist")}},computed:{filterData(){let t=[];const e=[];return this.currentPage=0,t=this.products.filter((t=>""===this.filter?this.products:this.filter===t.category?t:void 0)),t.forEach(((t,i)=>{i%12===0&&e.push([]);const a=parseInt(i/12);e[a].push(t)})),e}},created(){this.getProducts()}};const pt=(0,nt.Z)(ut,[["render",N]]);var ht=pt}}]);
//# sourceMappingURL=752.913c480f.js.map