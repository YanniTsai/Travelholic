"use strict";(self["webpackChunktravelholic"]=self["webpackChunktravelholic"]||[]).push([[591],{6591:function(e,a,l){l.r(a),l.d(a,{default:function(){return D}});var s=l(3396),r=l(7139),o=l(9242);const t={class:"container"},d=(0,s._)("div",null,[(0,s._)("h3",{class:"m-3"},"訂購人資訊")],-1),c={class:"row"},i={class:"col-md-8"},n={class:"mb-3"},m=(0,s._)("label",{for:"name",class:"form-label"},[(0,s._)("span",{class:"text-danger"},"*"),(0,s.Uk)("訂購人姓名")],-1),u={class:"mb-3"},f=(0,s._)("label",{for:"email",class:"form-label"},[(0,s._)("span",{class:"text-danger"},"*"),(0,s.Uk)("Email")],-1),h={class:"mb-3"},_=(0,s._)("label",{for:"tel",class:"form-label"},[(0,s._)("span",{class:"text-danger"},"*"),(0,s.Uk)("聯絡電話")],-1),p={class:"mb-3"},v=(0,s._)("label",{for:"address",class:"form-label"},[(0,s._)("span",{class:"text-danger"},"*"),(0,s.Uk)("地址")],-1),b={class:"mb-3"},g=(0,s._)("label",{for:"message",class:"form-label"},"訂單備註",-1),k=(0,s._)("div",{class:"text-end mb-3"},[(0,s._)("button",{class:"btn orange-btn"},"送出訂單")],-1),V={class:"col-md-4"},w={class:"order-item"},x=(0,s._)("div",{class:"mb-3 fs-5"},"訂購內容",-1),W={class:"table"},U={class:"col-7"},y={class:"col-2"},C={class:"col-3"},$={class:"text-end"};function E(e,a,l,E,q,z){const L=(0,s.up)("Loading"),D=(0,s.up)("Field"),F=(0,s.up)("ErrorMessage"),H=(0,s.up)("VForm");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(L,{active:e.isLoading,style:{"z-index":"9999"}},null,8,["active"]),(0,s._)("div",t,[d,(0,s._)("div",c,[(0,s._)("div",i,[(0,s.Wm)(H,{class:"col-md-10",onSubmit:z.createOrder},{default:(0,s.w5)((({errors:e})=>[(0,s._)("div",n,[m,(0,s.Wm)(D,{id:"name",name:"訂購人姓名",class:(0,r.C_)(["form-control",{"is-invalid":e["訂購人姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:q.form.user.name,"onUpdate:modelValue":a[0]||(a[0]=e=>q.form.user.name=e)},null,8,["class","modelValue"]),(0,s.Wm)(F,{name:"訂購人姓名",class:"invalid-feedback"})]),(0,s._)("div",u,[f,(0,s.Wm)(D,{id:"email",name:"Email",class:(0,r.C_)(["form-control",{"is-invalid":e["Email"]}]),placeholder:"請輸入Email",rules:"required|email",modelValue:q.form.user.email,"onUpdate:modelValue":a[1]||(a[1]=e=>q.form.user.email=e)},null,8,["class","modelValue"]),(0,s.Wm)(F,{name:"Email",class:"invalid-feedback"})]),(0,s._)("div",h,[_,(0,s.Wm)(D,{id:"tel",name:"聯絡電話",class:(0,r.C_)(["form-control",{"is-invalid":e["聯絡電話"]}]),placeholder:"請輸入手機號碼",rules:"required",modelValue:q.form.user.tel,"onUpdate:modelValue":a[2]||(a[2]=e=>q.form.user.tel=e)},null,8,["class","modelValue"]),(0,s.Wm)(F,{name:"聯絡電話",class:"invalid-feedback"})]),(0,s._)("div",p,[v,(0,s.Wm)(D,{id:"address",name:"地址",class:(0,r.C_)(["form-control",{"is-invalid":e["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:q.form.user.address,"onUpdate:modelValue":a[3]||(a[3]=e=>q.form.user.address=e)},null,8,["class","modelValue"]),(0,s.Wm)(F,{name:"地址",class:"invalid-feedback"})]),(0,s._)("div",b,[g,(0,s.wy)((0,s._)("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":a[4]||(a[4]=e=>q.form.message=e)},null,512),[[o.nr,q.form.message]])]),k])),_:1},8,["onSubmit"])]),(0,s._)("div",V,[(0,s._)("div",w,[x,(0,s._)("table",W,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(q.cart.carts,(a=>((0,s.wg)(),(0,s.iD)("tr",{key:a.id,class:"lh-lg"},[(0,s._)("td",U,(0,r.zw)(a.product.title),1),(0,s._)("td",y,(0,r.zw)(a.qty),1),(0,s._)("td",C,"$ "+(0,r.zw)(e.$filters.currency(a.product.price)),1)])))),128))]),(0,s._)("div",$," 訂單總金額： $ "+(0,r.zw)(e.$filters.currency(q.cart.final_total)),1)])])])])],64)}l(7658);var q={data(){return{cart:{},form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getCart(){this.isLoading=!0;const e="https://vue3-course-api.hexschool.io/api/yanni-hexschool-api/cart";this.$http.get(e).then((e=>{this.isLoading=!1,console.log(e.data),this.cart=e.data.data}))},createOrder(){const e="https://vue3-course-api.hexschool.io/api/yanni-hexschool-api/order",a=this.form;this.$http.post(e,{data:a}).then((e=>{console.log(e.data),this.$router.push(`/checkout/${e.data.orderId}`)}))}},created(){this.getCart()}},z=l(89);const L=(0,z.Z)(q,[["render",E]]);var D=L}}]);
//# sourceMappingURL=591.1e7e7fc3.js.map