{"version":3,"file":"js/285.32665a24.js","mappings":"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","sources":["webpack://travelholic/./src/views/front/Cart.vue","webpack://travelholic/./src/components/front/RemoveItemModal.vue","webpack://travelholic/./src/components/front/RemoveItemModal.vue?b608","webpack://travelholic/./src/views/front/Cart.vue?9b7e"],"sourcesContent":["<template>\n    <Loading :active=\"isLoading\" style=\"z-index: 9999\"></Loading>\n    <div class=\"banner mb-5\">\n      <img src=\"@/assets/images/cart-banner.jpeg\" alt=\"購物車\">\n      <div class=\"banner-title p-3\"><h5 class=\"m-2\">購物車</h5></div>\n    </div>\n    <div class=\"container\">\n        <div class=\"d-flex flex-column align-items-center\" v-if=\"cartlength === 0\">\n            <div>購物車目前沒有商品！</div>\n            <button class=\"btn yellow-btn\">\n                <router-link to=\"/products\" class=\"text-dark text-decoration-none\">探索行程</router-link>\n            </button>\n        </div>\n        <div class=\"row\" v-else>\n            <div class=\"col-md-7 cart-list\">\n                <div class=\"m-3\">已選行程</div>\n                <div class=\"mb-3\">\n                    <div class=\"cart-item p-3 m-3\" v-for=\"item in cart.carts\" :key=\"item.id\">\n                        <div class=\"row\">\n                            <img :src=\"item.product.imageUrl\" :alt=\"item.product.title\" class=\"col-md-3\">\n                            <div class=\"col-md-6\">\n                                <router-link :to=\"`/products/${item.product.id}`\" class=\"text-muted text-decoration-none\">\n                                    <div class=\"mb-2\">{{ item.product.title }}</div>\n                                    <div class=\"fw-light mb-2\">{{ item.product.description }}</div>\n                                    <div>$ {{ item.product.price }}</div>\n                                </router-link>\n                            </div>\n                            <div class=\"col-md-3 d-flex align-items-center\">\n                                <div class=\"input-group\">\n                                    <input type=\"number\" min=\"1\" class=\"form-control\" v-model.number=\"item.qty\" @change=\"updateCart(item)\">\n                                    <span class=\"input-group-text bg-white border-0\">人</span>\n                                </div>\n                            </div>\n                        </div>\n                        <hr>\n                        <div class=\"d-flex justify-content-between align-items-center\">\n                            <button class=\"btn\" @click.prevent=\"openRemoveModal(item)\">\n                                <i class=\"bi bi-trash3\"></i>\n                            </button>\n                            <div class=\"fw-bold\">$ {{ $filters.currency(item.total) }}</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-md-5\">\n                <div class=\"mt-3 ms-3 mb-3 pt-3\">\n                    <div class=\"mb-3\">套用優惠</div>\n                    <div class=\"input-group mb-1\">\n                        <input type=\"text\" class=\"form-control\" placeholder=\"輸入優惠碼\" aria-label=\"coupon_code\" aria-describedby=\"usecoupon\" v-model=\"coupon_code\">\n                        <button class=\"btn yellow-btn border\" type=\"button\" id=\"usecoupon\" @click.prevent=\"addCoupon\">使用</button>\n                    </div>\n                    <div class=\"text-success ms-3\" v-if=\"discont\">優惠碼：{{ coupon_code }}&ensp;<i class=\"bi bi-check2-circle\"></i></div>\n                </div>\n                <div class=\"d-flex justify-content-end mb-3\">\n                    <div>\n                        <div class=\"mb-2\">{{ cartlength }} 件商品 </div>\n                        <div class=\"d-flex align-items-center\" :class=\"{'text-secondary': discont}\">\n                            <span>總計：</span>\n                            <span class=\"fw-bold\" :class=\"{'text-decoration-line-through': discont}\">{{ $filters.currency(cart.total) }} 元</span>\n                        </div>\n                        <div v-if=\"discont\">\n                            <span class=\"orange-price\">優惠價： {{ $filters.currency(cart.final_total) }} 元</span>\n                        </div>\n                        <button class=\"btn orange-btn w-100 mt-3\">\n                          <router-link to=\"/order\" class=\"text-decoration-none text-dark\">\n                            結帳去\n                            <i class=\"bi bi-arrow-right\"></i>\n                          </router-link>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <RemoveItemModal ref=\"removeItemModal\" :cartItem=\"tempItem\" @remove-item=\"removeItem\"></RemoveItemModal>\n</template>\n\n<script>\nimport RemoveItemModal from '@/components/front/RemoveItemModal.vue'\n\nexport default {\n  data () {\n    return {\n      cart: {},\n      cartlength: 0,\n      tempItem: {},\n      coupon_code: '',\n      discont: false,\n      isLoading: false\n    }\n  },\n  components: {\n    RemoveItemModal\n  },\n  watch: {\n    cart () {\n      this.cartlength = this.cart.carts.length\n    }\n  },\n  methods: {\n    getCart () {\n      this.isLoading = true\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n\n      this.$http.get(api).then((res) => {\n        this.isLoading = false\n        console.log(res.data)\n\n        this.cart = res.data.data\n      })\n    },\n    updateCart (item) {\n      this.isLoading = true\n      const cart = {\n        product_id: item.id,\n        qty: item.qty\n      }\n\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\n\n      this.$http.put(api, { data: cart }).then((res) => {\n        this.isLoading = false\n        console.log(res.data)\n\n        this.getCart()\n      })\n    },\n    openRemoveModal (item) {\n      this.tempItem = item\n\n      this.$refs.removeItemModal.showModal()\n    },\n    removeItem () {\n      this.isLoading = true\n      console.log(this.tempItem)\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${this.tempItem.id}`\n\n      this.$http.delete(api).then((res) => {\n        this.isLoading = false\n        console.log(res.data)\n\n        this.$refs.removeItemModal.hideModal()\n        this.getCart()\n      })\n    },\n    addCoupon () {\n      const coupon = {\n        code: this.coupon_code\n      }\n\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\n\n      this.$http.post(api, { data: coupon }).then((res) => {\n        if (res.data.success) {\n          console.log(res.data)\n          this.discont = true\n        }\n\n        this.getCart()\n      })\n    }\n  },\n  created () {\n    this.getCart()\n  }\n}\n</script>\n","<template>\n  <div class=\"modal\" tabindex=\"-1\" ref=\"modal\">\n    <div class=\"modal-dialog modal-dialog-centered\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">刪除行程</h5>\n        </div>\n        <div class=\"modal-body\">\n          <p>確定要刪除 {{ cartItem.title }} 嗎？</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button type=\"button\" class=\"btn btn-danger\" @click.prevent=\"$emit('remove-item')\">刪除</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal'\n\nexport default {\n  props: {\n    cartItem: {\n      type: Object\n    }\n  },\n  data () {\n    return {\n      modal: {}\n    }\n  },\n  methods: {\n    showModal () {\n      this.modal.show()\n    },\n    hideModal () {\n      this.modal.hide()\n    }\n  },\n  mounted () {\n    this.modal = new Modal(this.$refs.modal)\n  }\n}\n</script>\n","import { render } from \"./RemoveItemModal.vue?vue&type=template&id=3330811e\"\nimport script from \"./RemoveItemModal.vue?vue&type=script&lang=js\"\nexport * from \"./RemoveItemModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Cart.vue?vue&type=template&id=e46c6164\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","src","_imports_0","alt","_hoisted_22","_createVNode","_component_Loading","active","$data","isLoading","style","_hoisted_1","_hoisted_2","cartlength","_createElementBlock","_hoisted_3","_hoisted_4","_hoisted_5","_component_router_link","to","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_Fragment","_renderList","cart","carts","item","key","id","_hoisted_10","product","imageUrl","title","_hoisted_12","_hoisted_13","_toDisplayString","_hoisted_14","description","price","_hoisted_15","_hoisted_16","type","min","qty","$event","onChange","$options","updateCart","_hoisted_18","_hoisted_19","_hoisted_20","onClick","_withModifiers","openRemoveModal","_hoisted_24","_ctx","$filters","currency","total","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","placeholder","coupon_code","_cache","args","addCoupon","discont","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_normalizeClass","_hoisted_33","_hoisted_34","_hoisted_35","final_total","_hoisted_36","_hoisted_37","_component_RemoveItemModal","ref","cartItem","tempItem","onRemoveItem","removeItem","tabindex","$props","$emit","props","Object","data","modal","methods","showModal","this","show","hideModal","hide","mounted","Modal","$refs","__exports__","components","RemoveItemModal","watch","length","getCart","api","$http","get","then","res","console","log","product_id","put","removeItemModal","delete","coupon","code","post","success","created","render"],"sourceRoot":""}