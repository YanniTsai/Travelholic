{"version":3,"file":"js/824.fdc95683.js","mappings":"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","sources":["webpack://travelholic/./src/views/front/OrderInfo.vue","webpack://travelholic/./src/views/front/OrderInfo.vue?74d2"],"sourcesContent":["<template>\n  <Loading :active=\"isLoading\" style=\"z-index: 9999\"></Loading>\n  <div class=\"banner mb-5\">\n      <img src=\"@/assets/images/orderInfo-banner.jpeg\" alt=\"訂購人資訊\">\n      <div class=\"banner-title p-3\"><h5 class=\"m-2\">訂購人資訊</h5></div>\n    </div>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-md-8\">\n        <VForm class=\"col-md-10\" v-slot=\"{ errors }\" @submit=\"createOrder\">\n          <div class=\"mb-3\">\n            <label for=\"name\" class=\"form-label\"><span class=\"text-danger\">*</span>訂購人姓名</label>\n            <Field\n            id=\"name\"\n            name=\"訂購人姓名\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['訂購人姓名'] }\"\n            placeholder=\"請輸入姓名\"\n            rules=\"required\"\n            v-model=\"form.user.name\"\n            ></Field>\n            <ErrorMessage name=\"訂購人姓名\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"email\" class=\"form-label\"><span class=\"text-danger\">*</span>Email</label>\n            <Field\n            id=\"email\"\n            name=\"Email\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['Email'] }\"\n            placeholder=\"請輸入Email\"\n            rules=\"required|email\"\n            v-model=\"form.user.email\"\n            ></Field>\n            <ErrorMessage name=\"Email\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"tel\" class=\"form-label\"><span class=\"text-danger\">*</span>聯絡電話</label>\n            <Field\n            id=\"tel\"\n            name=\"聯絡電話\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['聯絡電話'] }\"\n            placeholder=\"請輸入手機號碼\"\n            rules=\"required\"\n            v-model=\"form.user.tel\"\n            ></Field>\n            <ErrorMessage name=\"聯絡電話\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"address\" class=\"form-label\"><span class=\"text-danger\">*</span>地址</label>\n            <Field\n            id=\"address\"\n            name=\"地址\"\n            class=\"form-control\"\n            :class=\"{ 'is-invalid': errors['地址'] }\"\n            placeholder=\"請輸入地址\"\n            rules=\"required\"\n            v-model=\"form.user.address\"\n            ></Field>\n            <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"message\" class=\"form-label\">訂單備註</label>\n            <textarea\n            id=\"message\"\n            class=\"form-control\"\n            cols=\"30\"\n            rows=\"10\"\n            v-model=\"form.message\"\n            ></textarea>\n          </div>\n          <div class=\"text-end mb-3\">\n            <button class=\"btn orange-btn\">送出訂單</button>\n          </div>\n        </VForm>\n      </div>\n      <div class=\"col-md-4\">\n        <div class=\"mb-3 fs-5\">訂購內容</div>\n        <table class=\"table mb-3\">\n          <tr>\n            <th>商品名稱</th>\n            <th class=\"text-center\">數量</th>\n            <th>金額</th>\n          </tr>\n          <tr v-for=\"item in cart.carts\" :key=\"item.id\" class=\"lh-lg\">\n            <td class=\"col-7\">{{ item.product.title }}</td>\n            <td class=\"col-2 text-center\">{{ item.qty }}</td>\n            <td class=\"col-3\">$ {{ $filters.currency(item.product.price) }}</td>\n          </tr>\n        </table>\n        <div class=\"mb-3\" v-if=\"coupon_code\">\n          <div class=\"text-success\">已使用優惠碼： {{ coupon_code }} （整單{{ coupon_percent / 10 }}折）</div>\n        </div>\n        <div class=\"text-end\">\n          <div :class=\"{'origin-price': coupon_code}\">訂單總金額： $ {{ $filters.currency(cart.total) }}</div>\n          <div class=\"orange-price\" v-if=\"coupon_code\">訂單總金額： $ {{ $filters.currency(cart.final_total) }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      cart: {},\n      coupon_code: '',\n      coupon_percent: 0,\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: ''\n        },\n        message: ''\n      }\n    }\n  },\n  methods: {\n    getCart () {\n      this.isLoading = true\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n\n      this.$http.get(api).then((res) => {\n        this.isLoading = false\n        console.log(res.data)\n\n        this.cart = res.data.data\n\n        if (res.data.data.carts[0].coupon) {\n          this.coupon_code = res.data.data.carts[0].coupon.code\n          this.coupon_percent = res.data.data.carts[0].coupon.percent\n        }\n      })\n    },\n    createOrder () {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\n      const orderData = this.form\n\n      this.$http.post(api, { data: orderData }).then((res) => {\n        console.log(res.data)\n\n        this.$router.push(`/checkout/${res.data.orderId}`)\n      })\n    }\n  },\n  created () {\n    this.getCart()\n  }\n}\n</script>\n","import { render } from \"./OrderInfo.vue?vue&type=template&id=57a275e8\"\nimport script from \"./OrderInfo.vue?vue&type=script&lang=js\"\nexport * from \"./OrderInfo.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","src","_imports_0","alt","for","_createVNode","_component_Loading","active","_ctx","isLoading","style","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_component_VForm","onSubmit","$options","createOrder","errors","_hoisted_5","_hoisted_6","_component_Field","id","name","_normalizeClass","placeholder","rules","$data","form","user","$event","_component_ErrorMessage","_hoisted_7","_hoisted_8","email","_hoisted_9","_hoisted_10","tel","_hoisted_11","_hoisted_12","address","_hoisted_13","_hoisted_14","cols","rows","message","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_createElementBlock","_Fragment","_renderList","cart","carts","item","key","_hoisted_20","_toDisplayString","product","title","_hoisted_21","qty","_hoisted_22","$filters","currency","price","coupon_code","_hoisted_23","_hoisted_24","coupon_percent","_hoisted_25","total","_hoisted_26","final_total","data","methods","getCart","this","api","$http","get","then","res","console","log","coupon","code","percent","orderData","post","$router","push","orderId","created","__exports__","render"],"sourceRoot":""}